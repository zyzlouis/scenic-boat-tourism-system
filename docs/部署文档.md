# æ™¯åŒºæ¸¸èˆ¹è®¡æ—¶æ”¶è´¹ç³»ç»Ÿ - éƒ¨ç½²æ–‡æ¡£

| **æ–‡æ¡£ç‰ˆæœ¬** | **V1.0**                     |
| ------------ | ---------------------------- |
| **æ–‡æ¡£çŠ¶æ€** | æ­£å¼ç‰ˆ (Release)             |
| **æ’°å†™äºº**   | è¿ç»´å·¥ç¨‹å¸ˆ                   |
| **åˆ›å»ºæ—¶é—´** | 2026-02-04                   |

---

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜æ™¯åŒºæ¸¸èˆ¹è®¡æ—¶æ”¶è´¹ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æµç¨‹ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡ã€æ•°æ®åº“é…ç½®ã€åç«¯æœåŠ¡éƒ¨ç½²å’Œå°ç¨‹åºå‘å¸ƒã€‚

---

## ğŸ–¥ï¸ æœåŠ¡å™¨ç¯å¢ƒè¦æ±‚

### æœ€ä½é…ç½®
- **CPU**: 2æ ¸
- **å†…å­˜**: 4GB
- **ç¡¬ç›˜**: 40GB
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04 LTS / CentOS 7+
- **å¸¦å®½**: 5Mbps

### æ¨èé…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- **CPU**: 4æ ¸
- **å†…å­˜**: 8GB
- **ç¡¬ç›˜**: 80GB SSD
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 LTS
- **å¸¦å®½**: 10Mbps

---

## ğŸ”§ ç¯å¢ƒå‡†å¤‡

### 1. å®‰è£…Node.js

```bash
# å®‰è£…nvm (Node Version Manager)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc

# å®‰è£…Node.js 18.x LTS
nvm install 18
nvm use 18
nvm alias default 18

# éªŒè¯å®‰è£…
node -v  # åº”æ˜¾ç¤º v18.x.x
npm -v   # åº”æ˜¾ç¤º npmç‰ˆæœ¬
```

### 2. å®‰è£…MySQL 8.0

```bash
# Ubuntu
sudo apt update
sudo apt install mysql-server -y

# å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
sudo systemctl enable mysql

# å®‰å…¨é…ç½®
sudo mysql_secure_installation

# ç™»å½•MySQL
sudo mysql -u root -p
```

**MySQLé…ç½®**:
```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE boat_rental CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºä¸“ç”¨ç”¨æˆ·
CREATE USER 'boat_rental_user'@'localhost' IDENTIFIED BY 'your_secure_password_here';

-- æˆæƒ
GRANT ALL PRIVILEGES ON boat_rental.* TO 'boat_rental_user'@'localhost';
FLUSH PRIVILEGES;

-- é€€å‡º
EXIT;
```

### 3. å®‰è£…Redis

```bash
# Ubuntu
sudo apt install redis-server -y

# å¯åŠ¨RedisæœåŠ¡
sudo systemctl start redis
sudo systemctl enable redis

# éªŒè¯Redis
redis-cli ping  # åº”è¿”å› PONG
```

**Redisé…ç½®**ï¼ˆå¯é€‰ï¼Œå¢å¼ºå®‰å…¨æ€§ï¼‰:
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
sudo nano /etc/redis/redis.conf

# è®¾ç½®å¯†ç 
requirepass your_redis_password_here

# ç»‘å®šIPï¼ˆä»…æœ¬åœ°è®¿é—®ï¼‰
bind 127.0.0.1

# é‡å¯Redis
sudo systemctl restart redis
```

### 4. å®‰è£…Nginx

```bash
# Ubuntu
sudo apt install nginx -y

# å¯åŠ¨Nginx
sudo systemctl start nginx
sudo systemctl enable nginx

# éªŒè¯
curl http://localhost  # åº”æ˜¾ç¤ºNginxæ¬¢è¿é¡µ
```

### 5. å®‰è£…PM2ï¼ˆè¿›ç¨‹ç®¡ç†å™¨ï¼‰

```bash
# å…¨å±€å®‰è£…PM2
npm install -g pm2

# è®¾ç½®PM2å¼€æœºè‡ªå¯
pm2 startup
sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u $USER --hp /home/$USER
```

---

## ğŸ“¦ é¡¹ç›®éƒ¨ç½²

### 1. ä¸Šä¼ é¡¹ç›®ä»£ç 

```bash
# åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºé¡¹ç›®ç›®å½•
sudo mkdir -p /var/www/boat-rental
sudo chown -R $USER:$USER /var/www/boat-rental
cd /var/www/boat-rental

# æ–¹å¼1: ä½¿ç”¨git clone
git clone https://github.com/your-repo/boat-rental-system.git .

# æ–¹å¼2: ä½¿ç”¨scpä¸Šä¼ 
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r /path/to/æ™¯åŒºæ¸¸èˆ¹é¡¹ç›®/* user@your-server:/var/www/boat-rental/
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd /var/www/boat-rental

# å¯¼å…¥æ•°æ®åº“ç»“æ„
mysql -u boat_rental_user -p boat_rental < docs/database/schema.sql

# éªŒè¯æ•°æ®è¡¨
mysql -u boat_rental_user -p boat_rental -e "SHOW TABLES;"
```

### 3. é…ç½®åç«¯æœåŠ¡

```bash
cd /var/www/boat-rental/backend

# å®‰è£…ä¾èµ–
npm install --production

# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env
```

**`.env` é…ç½®ç¤ºä¾‹**:
```bash
# æœåŠ¡å™¨é…ç½®
NODE_ENV=production
PORT=3000

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=boat_rental
DB_USER=boat_rental_user
DB_PASSWORD=your_secure_password_here

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# JWTé…ç½®ï¼ˆé‡è¦ï¼šå¿…é¡»ä¿®æ”¹ï¼‰
JWT_SECRET=generate_a_random_secure_key_here_32_characters_minimum
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# å¾®ä¿¡å°ç¨‹åºé…ç½®
WX_APPID=your_wechat_appid
WX_SECRET=your_wechat_secret

# å¾®ä¿¡æ”¯ä»˜é…ç½®
WX_PAY_MCHID=your_merchant_id
WX_PAY_API_KEY=your_pay_api_key
WX_PAY_NOTIFY_URL=https://your-domain.com/api/v1/payment/callback

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
```

**ç”ŸæˆJWTå¯†é’¥**:
```bash
# ç”Ÿæˆéšæœºå¯†é’¥
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

### 4. å¯åŠ¨åç«¯æœåŠ¡ï¼ˆä½¿ç”¨PM2ï¼‰

```bash
cd /var/www/boat-rental/backend

# å¯åŠ¨æœåŠ¡
pm2 start src/server.js --name boat-rental-api

# æŸ¥çœ‹æ—¥å¿—
pm2 logs boat-rental-api

# ä¿å­˜PM2é…ç½®
pm2 save

# æŸ¥çœ‹çŠ¶æ€
pm2 status
```

**PM2å¸¸ç”¨å‘½ä»¤**:
```bash
pm2 start boat-rental-api    # å¯åŠ¨
pm2 stop boat-rental-api     # åœæ­¢
pm2 restart boat-rental-api  # é‡å¯
pm2 delete boat-rental-api   # åˆ é™¤
pm2 logs boat-rental-api     # æŸ¥çœ‹æ—¥å¿—
pm2 monit                    # å®æ—¶ç›‘æ§
```

### 5. é…ç½®Nginxåå‘ä»£ç†

```bash
# åˆ›å»ºNginxé…ç½®æ–‡ä»¶
sudo nano /etc/nginx/sites-available/boat-rental
```

**Nginxé…ç½®å†…å®¹**:
```nginx
server {
    listen 80;
    server_name your-domain.com;  # ä¿®æ”¹ä¸ºæ‚¨çš„åŸŸå

    # æ—¥å¿—
    access_log /var/log/nginx/boat-rental-access.log;
    error_log /var/log/nginx/boat-rental-error.log;

    # APIåå‘ä»£ç†
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;

        # è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # WebSocketæ”¯æŒï¼ˆç”¨äºå®æ—¶æ¨é€ï¼‰
    location /ws/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # WebSocketè¶…æ—¶è®¾ç½®
        proxy_connect_timeout 7d;
        proxy_send_timeout 7d;
        proxy_read_timeout 7d;
    }

    # å¥åº·æ£€æŸ¥
    location /health {
        proxy_pass http://localhost:3000/api/v1/health;
    }
}
```

**å¯ç”¨é…ç½®**:
```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/boat-rental /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡æ–°åŠ è½½Nginx
sudo systemctl reload nginx
```

### 6. é…ç½®HTTPSï¼ˆä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦ï¼‰

```bash
# å®‰è£…Certbot
sudo apt install certbot python3-certbot-nginx -y

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d your-domain.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run

# Certbotä¼šè‡ªåŠ¨ä¿®æ”¹Nginxé…ç½®ï¼Œæ·»åŠ HTTPSæ”¯æŒ
```

**HTTPSé…ç½®åï¼ŒNginxä¼šè‡ªåŠ¨æ·»åŠ **:
```nginx
server {
    listen 443 ssl http2;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    # SSLä¼˜åŒ–é…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # å…¶ä»–é…ç½®åŒä¸Š...
}

# HTTPè‡ªåŠ¨è·³è½¬HTTPS
server {
    listen 80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}
```

---

## ğŸ“± å°ç¨‹åºéƒ¨ç½²

### 1. ç”¨æˆ·ç«¯å°ç¨‹åºé…ç½®

```bash
cd /var/www/boat-rental/client-user

# å®‰è£…ä¾èµ–
npm install

# ä¿®æ”¹é…ç½®
nano app.js
```

**ä¿®æ”¹ `app.js` ä¸­çš„ `baseUrl`**:
```javascript
globalData: {
  baseUrl: 'https://your-domain.com/api/v1'  // ä¿®æ”¹ä¸ºå®é™…åŸŸå
}
```

### 2. å‘˜å·¥ç«¯å°ç¨‹åºé…ç½®

```bash
cd /var/www/boat-rental/client-staff

# å®‰è£…ä¾èµ–
npm install

# ä¿®æ”¹é…ç½®
nano app.js
```

**ä¿®æ”¹ `app.js` ä¸­çš„ `baseUrl`**:
```javascript
globalData: {
  baseUrl: 'https://your-domain.com/api/v1'  // ä¿®æ”¹ä¸ºå®é™…åŸŸå
}
```

### 3. å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®

ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)ï¼š

1. **é…ç½®æœåŠ¡å™¨åŸŸå**
   - å¼€å‘ -> å¼€å‘ç®¡ç† -> å¼€å‘è®¾ç½® -> æœåŠ¡å™¨åŸŸå
   - **requeståˆæ³•åŸŸå**: `https://your-domain.com`
   - **socketåˆæ³•åŸŸå**: `wss://your-domain.com`ï¼ˆå¦‚æœä½¿ç”¨WebSocketï¼‰
   - **uploadFileåˆæ³•åŸŸå**: `https://your-domain.com`
   - **downloadFileåˆæ³•åŸŸå**: `https://your-domain.com`

2. **é…ç½®ä¸šåŠ¡åŸŸå**ï¼ˆå¯é€‰ï¼‰
   - å¼€å‘ -> å¼€å‘ç®¡ç† -> å¼€å‘è®¾ç½® -> ä¸šåŠ¡åŸŸå
   - æ·»åŠ : `https://your-domain.com`

3. **å¾®ä¿¡æ”¯ä»˜é…ç½®**
   - ç™»å½• [å¾®ä¿¡æ”¯ä»˜å•†æˆ·å¹³å°](https://pay.weixin.qq.com/)
   - äº§å“ä¸­å¿ƒ -> å¼€å‘é…ç½® -> æ”¯ä»˜é…ç½®
   - è®¾ç½®æ”¯ä»˜æˆæƒç›®å½•: `https://your-domain.com/`
   - è®¾ç½®APIå¯†é’¥ï¼ˆç”¨äºç­¾åéªŒè¯ï¼‰

### 4. å°ç¨‹åºå‘å¸ƒ

åœ¨**å¾®ä¿¡å¼€å‘è€…å·¥å…·**ä¸­ï¼š

1. **å¯¼å…¥é¡¹ç›®**
   - ç”¨æˆ·ç«¯ï¼šé€‰æ‹© `client-user` ç›®å½•
   - å‘˜å·¥ç«¯ï¼šé€‰æ‹© `client-staff` ç›®å½•

2. **æ„å»ºnpm**
   - ç‚¹å‡» **å·¥å…· -> æ„å»ºnpm**

3. **é¢„è§ˆæµ‹è¯•**
   - ç‚¹å‡» **é¢„è§ˆ** ç”ŸæˆäºŒç»´ç 
   - ç”¨æ‰‹æœºå¾®ä¿¡æ‰«ç æµ‹è¯•

4. **ä¸Šä¼ ä»£ç **
   - ç‚¹å‡» **ä¸Šä¼ ** æŒ‰é’®
   - å¡«å†™ç‰ˆæœ¬å·å’Œå¤‡æ³¨
   - ä¸Šä¼ æˆåŠŸ

5. **æäº¤å®¡æ ¸**
   - ç™»å½•å¾®ä¿¡å…¬ä¼—å¹³å°
   - ç®¡ç† -> ç‰ˆæœ¬ç®¡ç† -> å¼€å‘ç‰ˆæœ¬
   - ç‚¹å‡» **æäº¤å®¡æ ¸**
   - å¡«å†™å®¡æ ¸ä¿¡æ¯ï¼Œæäº¤

6. **å‘å¸ƒä¸Šçº¿**
   - å®¡æ ¸é€šè¿‡åï¼Œç‚¹å‡» **å‘å¸ƒ**
   - å°ç¨‹åºæ­£å¼ä¸Šçº¿

---

## ğŸ§ª éªŒè¯éƒ¨ç½²

### 1. åç«¯æœåŠ¡éªŒè¯

```bash
# å¥åº·æ£€æŸ¥
curl https://your-domain.com/api/v1/health

# é¢„æœŸè¿”å›
{
  "code": 200,
  "message": "Server is running",
  "timestamp": 1675584000000
}

# æµ‹è¯•APIæ¥å£ï¼ˆè·å–èˆ¹å‹åˆ—è¡¨ï¼‰
curl https://your-domain.com/api/v1/boats/types

# æŸ¥çœ‹PM2çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs boat-rental-api --lines 50
```

### 2. æ•°æ®åº“éªŒè¯

```bash
# ç™»å½•MySQL
mysql -u boat_rental_user -p boat_rental

# æŸ¥çœ‹æ•°æ®è¡¨
SHOW TABLES;

# æŸ¥çœ‹èˆ¹å‹æ•°æ®
SELECT * FROM boat_types;

# æŸ¥çœ‹ä»·æ ¼é…ç½®
SELECT * FROM pricing_config;

# é€€å‡º
EXIT;
```

### 3. å°ç¨‹åºéªŒè¯

- æ‰“å¼€ç”¨æˆ·ç«¯å°ç¨‹åºï¼Œæ£€æŸ¥èˆ¹å‹åˆ—è¡¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- æ‰“å¼€å‘˜å·¥ç«¯å°ç¨‹åºï¼Œä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
- æµ‹è¯•æ‰«ç åŠŸèƒ½ï¼ˆå¯ä»¥æ‰“å°äºŒç»´ç æµ‹è¯•ï¼‰

---

## ğŸ”’ å®‰å…¨åŠ å›º

### 1. é˜²ç«å¢™é…ç½®

```bash
# å®‰è£…ufw
sudo apt install ufw -y

# å…è®¸SSH
sudo ufw allow 22/tcp

# å…è®¸HTTPå’ŒHTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable

# æŸ¥çœ‹çŠ¶æ€
sudo ufw status
```

### 2. ä¿®æ”¹SSHç«¯å£ï¼ˆå¯é€‰ï¼‰

```bash
# ç¼–è¾‘SSHé…ç½®
sudo nano /etc/ssh/sshd_config

# ä¿®æ”¹ç«¯å£
Port 2222

# é‡å¯SSHæœåŠ¡
sudo systemctl restart sshd

# è®°å¾—åœ¨é˜²ç«å¢™å¼€æ”¾æ–°ç«¯å£
sudo ufw allow 2222/tcp
```

### 3. å®šæœŸå¤‡ä»½

**æ•°æ®åº“å¤‡ä»½è„šæœ¬** (`/var/www/boat-rental/scripts/backup.sh`):
```bash
#!/bin/bash

# é…ç½®
BACKUP_DIR="/var/backups/boat-rental"
DB_USER="boat_rental_user"
DB_PASS="your_password"
DB_NAME="boat_rental"
DATE=$(date +%Y%m%d_%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# å¤‡ä»½æ•°æ®åº“
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/backup_$DATE.sql

# å‹ç¼©å¤‡ä»½
gzip $BACKUP_DIR/backup_$DATE.sql

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "backup_*.sql.gz" -mtime +7 -delete

echo "Backup completed: $BACKUP_DIR/backup_$DATE.sql.gz"
```

**è®¾ç½®å®šæ—¶å¤‡ä»½**:
```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x /var/www/boat-rental/scripts/backup.sh

# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹å¤‡ä»½ï¼‰
0 3 * * * /var/www/boat-rental/scripts/backup.sh >> /var/log/boat-rental-backup.log 2>&1
```

---

## ğŸ“Š ç›‘æ§ä¸ç»´æŠ¤

### 1. æ—¥å¿—æŸ¥çœ‹

```bash
# PM2æ—¥å¿—
pm2 logs boat-rental-api

# Nginxè®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/boat-rental-access.log

# Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/boat-rental-error.log

# åº”ç”¨æ—¥å¿—
tail -f /var/www/boat-rental/backend/logs/app.log
```

### 2. æ€§èƒ½ç›‘æ§

```bash
# PM2ç›‘æ§
pm2 monit

# ç³»ç»Ÿèµ„æº
htop  # å¦‚æœæ²¡æœ‰å®‰è£…: sudo apt install htop
```

### 3. æ›´æ–°éƒ¨ç½²

```bash
cd /var/www/boat-rental

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ›´æ–°ä¾èµ–
cd backend
npm install --production

# é‡å¯æœåŠ¡
pm2 restart boat-rental-api

# æŸ¥çœ‹æ—¥å¿—
pm2 logs boat-rental-api --lines 50
```

---

## âš ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜1: åç«¯æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
sudo lsof -i :3000

# æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
cat /var/www/boat-rental/backend/.env

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
mysql -u boat_rental_user -p boat_rental -e "SELECT 1;"

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
pm2 logs boat-rental-api --err
```

### é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
sudo systemctl status mysql

# æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æƒé™
mysql -u root -p -e "SHOW GRANTS FOR 'boat_rental_user'@'localhost';"

# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u boat_rental_user -p -h localhost boat_rental
```

### é—®é¢˜3: Nginxé…ç½®é”™è¯¯

```bash
# æµ‹è¯•Nginxé…ç½®
sudo nginx -t

# æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—
sudo tail -50 /var/log/nginx/error.log

# é‡æ–°åŠ è½½é…ç½®
sudo systemctl reload nginx
```

### é—®é¢˜4: å°ç¨‹åºæ— æ³•è¿æ¥åç«¯

- æ£€æŸ¥æœåŠ¡å™¨åŸŸåé…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤å¾®ä¿¡å…¬ä¼—å¹³å°çš„æœåŠ¡å™¨åŸŸåé…ç½®
- æ£€æŸ¥HTTPSè¯ä¹¦æ˜¯å¦æœ‰æ•ˆ
- ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„è°ƒè¯•åŠŸèƒ½æŸ¥çœ‹ç½‘ç»œè¯·æ±‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°éƒ¨ç½²é—®é¢˜ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

1. æœåŠ¡å™¨ç¯å¢ƒæ˜¯å¦æ»¡è¶³è¦æ±‚
2. æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
3. ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦å®Œæ•´
4. é˜²ç«å¢™è§„åˆ™æ˜¯å¦æ­£ç¡®
5. SSLè¯ä¹¦æ˜¯å¦æœ‰æ•ˆ

---

**éƒ¨ç½²å®Œæˆï¼** ğŸ‰

ç°åœ¨æ‚¨çš„æ™¯åŒºæ¸¸èˆ¹è®¡æ—¶æ”¶è´¹ç³»ç»Ÿå·²æˆåŠŸéƒ¨ç½²å¹¶å¯ä»¥æŠ•å…¥ä½¿ç”¨ã€‚
