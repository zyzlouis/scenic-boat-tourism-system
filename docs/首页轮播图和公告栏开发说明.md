# é¦–é¡µè½®æ’­å›¾å’Œå…¬å‘Šæ åŠŸèƒ½å¼€å‘è¯´æ˜

**å¼€å‘æ—¶é—´**ï¼š2026-02-12
**åŠŸèƒ½**ï¼šé¦–é¡µè½®æ’­å›¾å’Œå…¬å‘Šæ 

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

åœ¨é¦–é¡µæ·»åŠ è½®æ’­å›¾å’Œå…¬å‘Šæ åŠŸèƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒå’Œä¿¡æ¯å±•ç¤ºèƒ½åŠ›ã€‚

---

## âœ… å·²å®Œæˆçš„å¼€å‘å·¥ä½œ

### 1. åˆ›å»ºäº‘å‡½æ•° getBannersAndAnnouncements

**æ–‡ä»¶**ï¼š`cloudfunctions/getBannersAndAnnouncements/index.js`

**åŠŸèƒ½**ï¼š
- è·å–æ‰€æœ‰å¯ç”¨çš„è½®æ’­å›¾ï¼ˆ`enabled: true`ï¼‰
- è·å–é¦–é¡µæ˜¾ç¤ºçš„å…¬å‘Šï¼ˆ`enabled: true` ä¸” `showOnHome: true` ä¸”åœ¨æœ‰æ•ˆæœŸå†…ï¼‰
- æŒ‰ `sort` å­—æ®µæ’åº
- ä¸€æ¬¡è¯·æ±‚è¿”å›ä¸¤ç§æ•°æ®ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°

**æ•°æ®è¿‡æ»¤é€»è¾‘**ï¼š
```javascript
// è½®æ’­å›¾
const { data: banners } = await db.collection('banners')
  .where({ enabled: true })
  .orderBy('sort', 'asc')
  .get()

// å…¬å‘Šï¼ˆæœ‰æ•ˆæœŸå†…ï¼‰
const { data: announcements } = await db.collection('announcements')
  .where({
    enabled: true,
    showOnHome: true,
    startDate: _.lte(now),
    endDate: _.gte(now)
  })
  .orderBy('sort', 'asc')
  .get()
```

---

### 2. åˆ›å»ºå…¬å‘Šè¯¦æƒ…é¡µ

**æ–‡ä»¶**ï¼š
- `pages/announcement-detail/announcement-detail.js`
- `pages/announcement-detail/announcement-detail.wxml`
- `pages/announcement-detail/announcement-detail.wxss`
- `pages/announcement-detail/announcement-detail.json`

**åŠŸèƒ½**ï¼š
- æ ¹æ®å…¬å‘Š ID åŠ è½½å…¬å‘Šè¯¦æƒ…
- æ˜¾ç¤ºå…¬å‘Šç±»å‹æ ‡ç­¾ï¼ˆè­¦å‘Š/é€šçŸ¥/ç´§æ€¥ï¼‰
- æ˜¾ç¤ºå…¬å‘Šæ ‡é¢˜ã€å‘å¸ƒæ—¶é—´ã€å†…å®¹
- å†…å®¹æ”¯æŒæ¢è¡Œå’Œæ»šåŠ¨
- ä½¿ç”¨ WXS æ ¼å¼åŒ–æ—¶é—´

**ä¼˜åŠ¿**ï¼š
- âœ… æ”¯æŒé•¿æ–‡æœ¬å†…å®¹ï¼ˆæ— é•¿åº¦é™åˆ¶ï¼‰
- âœ… æ”¯æŒæ»šåŠ¨æŸ¥çœ‹
- âœ… æ”¯æŒæ¢è¡Œæ˜¾ç¤º
- âœ… æ‰©å±•æ€§å¥½ï¼Œåç»­å¯æ·»åŠ å›¾ç‰‡ã€é“¾æ¥ç­‰

---

### 3. ä¿®æ”¹é¦–é¡µæ·»åŠ è½®æ’­å›¾å’Œå…¬å‘Šæ 

#### (1) index.js - åŠ è½½æ•°æ®

```javascript
// æ·»åŠ æ•°æ®å­—æ®µ
data: {
  banners: [],
  announcements: [],
  boatTypes: [],
  loading: true
},

// åŠ è½½è½®æ’­å›¾å’Œå…¬å‘Š
async loadBannersAndAnnouncements() {
  const res = await wx.cloud.callFunction({
    name: 'getBannersAndAnnouncements'
  });

  if (res.result.success) {
    this.setData({
      banners: res.result.banners || [],
      announcements: res.result.announcements || []
    });
  }
},

// è½®æ’­å›¾ç‚¹å‡»äº‹ä»¶
onBannerClick(e) {
  const item = e.currentTarget.dataset.item;
  if (item.linkType === 'page') {
    wx.navigateTo({ url: item.linkUrl });
  }
},

// å…¬å‘Šç‚¹å‡»äº‹ä»¶
onAnnouncementClick(e) {
  const item = e.currentTarget.dataset.item;
  wx.navigateTo({
    url: `/pages/announcement-detail/announcement-detail?id=${item._id}`
  });
}
```

#### (2) index.wxml - é¡µé¢ç»“æ„

```xml
<!-- è½®æ’­å›¾ -->
<view wx:if="{{banners.length > 0}}" class="swiper-section">
  <van-swipe autoplay="{{3000}}" indicator-dots circular>
    <van-swipe-item wx:for="{{banners}}" wx:key="_id">
      <image
        class="swiper-image"
        src="{{item.imageUrl}}"
        bindtap="onBannerClick"
        data-item="{{item}}"
      />
    </van-swipe-item>
  </van-swipe>
</view>

<!-- å…¬å‘Šæ  -->
<view wx:if="{{announcements.length > 0}}" class="notice-section">
  <view
    class="notice-bar notice-{{announcements[0].type}}"
    bindtap="onAnnouncementClick"
    data-item="{{announcements[0]}}"
  >
    <view class="notice-icon">å›¾æ ‡</view>
    <view class="notice-content">
      <text class="notice-text">{{announcements[0].title}}</text>
    </view>
    <view class="notice-arrow">
      <van-icon name="arrow" />
    </view>
  </view>
</view>
```

#### (3) index.wxss - æ ·å¼

- è½®æ’­å›¾ï¼šåœ†è§’ 16rpxï¼Œé«˜åº¦ 320rpx
- å…¬å‘Šæ ï¼šæ ¹æ®ç±»å‹æ˜¾ç¤ºä¸åŒèƒŒæ™¯è‰²
  - warningï¼šé»„è‰² `#fff7e6`
  - infoï¼šè“è‰² `#e6f7ff`
  - urgentï¼šçº¢è‰² `#fff1f0`

---

### 4. ä¿®æ”¹é…ç½®æ–‡ä»¶

#### (1) app.json

**æ³¨å†Œå…¬å‘Šè¯¦æƒ…é¡µ**ï¼š
```json
"pages": [
  "pages/index/index",
  ...
  "pages/announcement-detail/announcement-detail",
  ...
]
```

**æ·»åŠ ç»„ä»¶**ï¼š
```json
"usingComponents": {
  ...
  "van-swipe": "@vant/weapp/swipe/index",
  "van-swipe-item": "@vant/weapp/swipe-item/index",
  "van-notice-bar": "@vant/weapp/notice-bar/index"
}
```

---

## ğŸ“± é¡µé¢å¸ƒå±€

### é¦–é¡µå¸ƒå±€é¡ºåº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è½®æ’­å›¾ï¼ˆSwiperï¼‰            â”‚  â­ æ–°å¢
â”‚  â€¢ è‡ªåŠ¨æ’­æ”¾ï¼Œ3ç§’åˆ‡æ¢         â”‚
â”‚  â€¢ æ˜¾ç¤ºæŒ‡ç¤ºç‚¹               â”‚
â”‚  â€¢ æ”¯æŒç‚¹å‡»è·³è½¬             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…¬å‘Šæ ï¼ˆNoticeï¼‰            â”‚  â­ æ–°å¢
â”‚  â€¢ æ˜¾ç¤ºæœ€æ–°çš„1æ¡å…¬å‘Š         â”‚
â”‚  â€¢ æ ¹æ®ç±»å‹æ˜¾ç¤ºä¸åŒé¢œè‰²      â”‚
â”‚  â€¢ ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¡¶éƒ¨æ¬¢è¿åŒºåŸŸ                â”‚  ä¿ç•™
â”‚  "æ™¯åŒºæ¸¸èˆ¹ç§Ÿèµ"              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  èˆ¹å‹åˆ—è¡¨                    â”‚  ä¿ç•™
â”‚  ï¼ˆç°æœ‰åŠŸèƒ½ï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ äº¤äº’è®¾è®¡

### 1. è½®æ’­å›¾äº¤äº’

**è‡ªåŠ¨æ’­æ”¾**ï¼š
- æ¯3ç§’è‡ªåŠ¨åˆ‡æ¢
- æ”¯æŒæ‰‹åŠ¨æ»‘åŠ¨
- å¾ªç¯æ’­æ”¾

**ç‚¹å‡»äº¤äº’**ï¼š
- `linkType === 'none'`ï¼šä¸å¤„ç†
- `linkType === 'page'`ï¼šè·³è½¬å°ç¨‹åºé¡µé¢ï¼ˆ`navigateTo`ï¼‰
- `linkType === 'web'`ï¼šæš‚ä¸æ”¯æŒï¼ˆéœ€è¦é…ç½®ä¸šåŠ¡åŸŸåï¼‰

**æŒ‡ç¤ºç‚¹**ï¼š
- ç™½è‰²åŠé€æ˜åœ†ç‚¹
- å½“å‰é¡µé«˜äº®æ˜¾ç¤º

---

### 2. å…¬å‘Šæ äº¤äº’

**æ˜¾ç¤ºè§„åˆ™**ï¼š
- åªæ˜¾ç¤º `showOnHome: true` çš„å…¬å‘Š
- åªæ˜¾ç¤º `enabled: true` çš„å…¬å‘Š
- åªæ˜¾ç¤ºåœ¨æœ‰æ•ˆæœŸå†…çš„å…¬å‘Šï¼ˆ`startDate <= now <= endDate`ï¼‰
- åªæ˜¾ç¤ºæœ€æ–°çš„1æ¡ï¼ˆæŒ‰ `sort` æ’åºåå–ç¬¬ä¸€æ¡ï¼‰

**æ ·å¼**ï¼š
- æ ¹æ® `type` æ˜¾ç¤ºä¸åŒå›¾æ ‡å’Œé¢œè‰²
  - `warning`ï¼šâš ï¸ é»„è‰²èƒŒæ™¯
  - `info`ï¼šâ„¹ï¸ è“è‰²èƒŒæ™¯
  - `urgent`ï¼šğŸš¨ çº¢è‰²èƒŒæ™¯

**ç‚¹å‡»äº¤äº’**ï¼š
- ç‚¹å‡»åè·³è½¬åˆ°å…¬å‘Šè¯¦æƒ…é¡µ
- ä¼ é€’å…¬å‘Š ID å‚æ•°

---

### 3. å…¬å‘Šè¯¦æƒ…é¡µ

**é¡µé¢ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [è­¦å‘Š] â† ç±»å‹æ ‡ç­¾            â”‚
â”‚                              â”‚
â”‚  ä»Šæ—¥å› æš´é›¨æš‚åœè¿è¥  â† æ ‡é¢˜   â”‚
â”‚  å‘å¸ƒæ—¶é—´ï¼š2026-02-12 10:00  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å°Šæ•¬çš„æ¸¸å®¢ï¼š                â”‚
â”‚                              â”‚
â”‚  ç”±äºä»Šæ—¥å¤©æ°”æ¶åŠ£ï¼Œ          â”‚
â”‚  ä¸ºç¡®ä¿æ¸¸å®¢å®‰å…¨ï¼Œ            â”‚
â”‚  æ™¯åŒºæ¸¸èˆ¹æš‚åœè¿è¥ã€‚          â”‚
â”‚  å·²è´­ç¥¨çš„æ¸¸å®¢å¯ç”³è¯·å…¨é¢é€€æ¬¾ã€‚â”‚
â”‚                              â”‚
â”‚  ç»™æ‚¨å¸¦æ¥ä¸ä¾¿ï¼Œæ•¬è¯·è°…è§£ã€‚    â”‚
â”‚                              â”‚
â”‚  ï¼ˆå†…å®¹æ”¯æŒæ»šåŠ¨ï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨ `white-space: pre-wrap` ä¿ç•™æ¢è¡Œ
- æ”¯æŒé•¿æ–‡æœ¬æ»šåŠ¨
- ç±»å‹æ ‡ç­¾æ ·å¼ä¸å…¬å‘Šæ ä¸€è‡´

---

## ğŸ—‚ï¸ æ•°æ®åº“ç»“æ„

### bannersï¼ˆè½®æ’­å›¾ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| _id | String | ID | banner_001 |
| title | String | æ ‡é¢˜ | æ˜¥èŠ‚ç‰¹æƒ æ´»åŠ¨ |
| imageUrl | String | å›¾ç‰‡URL | cloud://... |
| linkType | String | é“¾æ¥ç±»å‹ | none/page/web |
| linkUrl | String | é“¾æ¥åœ°å€ | /pages/recharge/recharge |
| sort | Number | æ’åº | 1 |
| enabled | Boolean | æ˜¯å¦å¯ç”¨ | true |
| createdAt | Date | åˆ›å»ºæ—¶é—´ | 2026-02-12 |
| updatedAt | Date | æ›´æ–°æ—¶é—´ | 2026-02-12 |

---

### announcementsï¼ˆå…¬å‘Šï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| _id | String | ID | announcement_001 |
| title | String | æ ‡é¢˜ | ä»Šæ—¥å› æš´é›¨æš‚åœè¿è¥ |
| content | String | å†…å®¹ | è¯¦ç»†å†…å®¹... |
| type | String | ç±»å‹ | warning/info/urgent |
| showOnHome | Boolean | é¦–é¡µæ˜¾ç¤º | true |
| startDate | Date | ç”Ÿæ•ˆå¼€å§‹æ—¶é—´ | 2026-02-12 00:00:00 |
| endDate | Date | ç”Ÿæ•ˆç»“æŸæ—¶é—´ | 2026-02-12 23:59:59 |
| sort | Number | æ’åº | 0 |
| enabled | Boolean | æ˜¯å¦å¯ç”¨ | true |
| createdAt | Date | åˆ›å»ºæ—¶é—´ | 2026-02-12 |
| updatedAt | Date | æ›´æ–°æ—¶é—´ | 2026-02-12 |

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²äº‘å‡½æ•°

1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰¾åˆ° `cloudfunctions/getBannersAndAnnouncements`
2. å³é”®ç‚¹å‡»ï¼Œé€‰æ‹©ã€ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–ã€‘
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

### ç¬¬äºŒæ­¥ï¼šé‡æ–°ç¼–è¯‘å°ç¨‹åº

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»ã€ç¼–è¯‘ã€‘æŒ‰é’®

---

## ğŸ§ª æµ‹è¯•æ¸…å•

### æµ‹è¯•1ï¼šè½®æ’­å›¾æ˜¾ç¤º

1. âœ… è¿›å…¥é¦–é¡µ
2. âœ… æŸ¥çœ‹é¡¶éƒ¨æ˜¯å¦æ˜¾ç¤ºè½®æ’­å›¾
3. âœ… è½®æ’­å›¾æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆæ¯3ç§’åˆ‡æ¢ï¼‰
4. âœ… è½®æ’­å›¾ä¸‹æ–¹æ˜¯å¦æ˜¾ç¤ºæŒ‡ç¤ºç‚¹
5. âœ… æ‰‹åŠ¨æ»‘åŠ¨è½®æ’­å›¾æ˜¯å¦æ­£å¸¸

---

### æµ‹è¯•2ï¼šè½®æ’­å›¾ç‚¹å‡»

1. âœ… ç‚¹å‡»è½®æ’­å›¾ï¼ˆlinkType: 'page'ï¼‰
2. âœ… æ˜¯å¦è·³è½¬åˆ°æŒ‡å®šé¡µé¢ï¼ˆå¦‚å……å€¼é¡µé¢ï¼‰
3. âœ… ç‚¹å‡»è½®æ’­å›¾ï¼ˆlinkType: 'none'ï¼‰
4. âœ… ä¸åº”è¯¥æœ‰ä»»ä½•ååº”

---

### æµ‹è¯•3ï¼šå…¬å‘Šæ æ˜¾ç¤º

1. âœ… è¿›å…¥é¦–é¡µ
2. âœ… æŸ¥çœ‹è½®æ’­å›¾ä¸‹æ–¹æ˜¯å¦æ˜¾ç¤ºå…¬å‘Šæ 
3. âœ… å…¬å‘Šæ å›¾æ ‡æ˜¯å¦æ ¹æ®ç±»å‹æ˜¾ç¤ºï¼ˆâš ï¸/â„¹ï¸/ğŸš¨ï¼‰
4. âœ… å…¬å‘Šæ èƒŒæ™¯è‰²æ˜¯å¦æ ¹æ®ç±»å‹æ˜¾ç¤ºï¼ˆé»„/è“/çº¢ï¼‰
5. âœ… å…¬å‘Šæ ‡é¢˜æ˜¯å¦æ˜¾ç¤ºæ­£ç¡®

---

### æµ‹è¯•4ï¼šå…¬å‘Šè¯¦æƒ…é¡µ

1. âœ… ç‚¹å‡»å…¬å‘Šæ 
2. âœ… æ˜¯å¦è·³è½¬åˆ°å…¬å‘Šè¯¦æƒ…é¡µ
3. âœ… è¯¦æƒ…é¡µæ˜¯å¦æ˜¾ç¤ºç±»å‹æ ‡ç­¾
4. âœ… è¯¦æƒ…é¡µæ˜¯å¦æ˜¾ç¤ºå®Œæ•´æ ‡é¢˜
5. âœ… è¯¦æƒ…é¡µæ˜¯å¦æ˜¾ç¤ºå‘å¸ƒæ—¶é—´ï¼ˆæ ¼å¼ï¼š2026-02-12 10:00ï¼‰
6. âœ… è¯¦æƒ…é¡µæ˜¯å¦æ˜¾ç¤ºå®Œæ•´å†…å®¹
7. âœ… é•¿æ–‡æœ¬å†…å®¹æ˜¯å¦æ”¯æŒæ»šåŠ¨

---

### æµ‹è¯•5ï¼šæ•°æ®è¿‡æ»¤

**æµ‹è¯•åœºæ™¯ï¼šåªæ˜¾ç¤ºå¯ç”¨çš„è½®æ’­å›¾**
1. åœ¨æ•°æ®åº“ä¸­å°†æŸä¸ªè½®æ’­å›¾çš„ `enabled` è®¾ä¸º `false`
2. é‡æ–°è¿›å…¥é¦–é¡µ
3. âœ… è¯¥è½®æ’­å›¾ä¸åº”è¯¥æ˜¾ç¤º

**æµ‹è¯•åœºæ™¯ï¼šåªæ˜¾ç¤ºæœ‰æ•ˆæœŸå†…çš„å…¬å‘Š**
1. åœ¨æ•°æ®åº“ä¸­ä¿®æ”¹æŸä¸ªå…¬å‘Šçš„ `endDate` ä¸ºè¿‡å»çš„æ—¶é—´
2. é‡æ–°è¿›å…¥é¦–é¡µ
3. âœ… è¯¥å…¬å‘Šä¸åº”è¯¥æ˜¾ç¤º

**æµ‹è¯•åœºæ™¯ï¼šåªæ˜¾ç¤º showOnHome çš„å…¬å‘Š**
1. åœ¨æ•°æ®åº“ä¸­å°†æŸä¸ªå…¬å‘Šçš„ `showOnHome` è®¾ä¸º `false`
2. é‡æ–°è¿›å…¥é¦–é¡µ
3. âœ… è¯¥å…¬å‘Šä¸åº”è¯¥æ˜¾ç¤º

---

## ğŸ“‹ ä¿®æ”¹æ–‡ä»¶æ¸…å•

| åºå· | æ–‡ä»¶è·¯å¾„ | ä¿®æ”¹å†…å®¹ |
|-----|---------|---------|
| 1 | `cloudfunctions/getBannersAndAnnouncements/*` | æ–°å»ºäº‘å‡½æ•° |
| 2 | `pages/announcement-detail/*` | æ–°å»ºå…¬å‘Šè¯¦æƒ…é¡µ |
| 3 | `pages/index/index.js` | æ·»åŠ è½®æ’­å›¾å’Œå…¬å‘ŠåŠ è½½é€»è¾‘ |
| 4 | `pages/index/index.wxml` | æ·»åŠ è½®æ’­å›¾å’Œå…¬å‘Šæ  |
| 5 | `pages/index/index.wxss` | æ·»åŠ æ ·å¼ |
| 6 | `app.json` | æ³¨å†Œå…¬å‘Šè¯¦æƒ…é¡µã€æ·»åŠ ç»„ä»¶ |

---

## ğŸ’¡ æ‰©å±•åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

### 1. å¤šæ¡å…¬å‘Šè½®æ’­

ç›®å‰åªæ˜¾ç¤º1æ¡å…¬å‘Šï¼Œå¦‚æœéœ€è¦æ”¯æŒå¤šæ¡å…¬å‘Šè½®æ’­ï¼š

```xml
<van-notice-bar
  scrollable
  wrapable
  :text="announcementText"
/>
```

### 2. å¤–éƒ¨ç½‘é¡µè·³è½¬

éœ€è¦é…ç½®ä¸šåŠ¡åŸŸåï¼Œå¹¶åˆ›å»º webview é¡µé¢ï¼š

```javascript
if (item.linkType === 'web') {
  wx.navigateTo({
    url: `/pages/webview/webview?url=${encodeURIComponent(item.linkUrl)}`
  });
}
```

### 3. å…¬å‘Šè¯¦æƒ…æ”¯æŒå¯Œæ–‡æœ¬

ä½¿ç”¨ `<rich-text>` ç»„ä»¶ï¼š

```xml
<rich-text nodes="{{announcement.content}}" />
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. è½®æ’­å›¾å›¾ç‰‡

- å»ºè®®å°ºå¯¸ï¼š750 x 320 åƒç´ 
- å»ºè®®æ ¼å¼ï¼šJPG/PNG
- å»ºè®®å¤§å°ï¼š< 500KB
- éœ€è¦å…ˆä¸Šä¼ åˆ°äº‘å­˜å‚¨è·å– URL

### 2. å…¬å‘Šæœ‰æ•ˆæœŸ

- `startDate` å’Œ `endDate` å¿…é¡»æ˜¯æœ‰æ•ˆçš„ Date å¯¹è±¡
- äº‘å‡½æ•°ä¼šè‡ªåŠ¨è¿‡æ»¤è¿‡æœŸçš„å…¬å‘Š
- å»ºè®®è®¾ç½®åˆç†çš„æœ‰æ•ˆæœŸï¼Œé¿å…å…¬å‘Šå †ç§¯

### 3. å…¬å‘Šå†…å®¹

- æ”¯æŒæ¢è¡Œï¼ˆä½¿ç”¨ `\n`ï¼‰
- æ”¯æŒé•¿æ–‡æœ¬
- ä¸æ”¯æŒHTMLæ ‡ç­¾ï¼ˆçº¯æ–‡æœ¬ï¼‰
- å¦‚éœ€å¯Œæ–‡æœ¬ï¼Œåç»­å¯æ‰©å±•

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**å¼€å‘å®Œæˆæ—¶é—´**ï¼š2026-02-12
**çŠ¶æ€**ï¼šâœ… å¼€å‘å®Œæˆï¼Œç­‰å¾…éƒ¨ç½²æµ‹è¯•
